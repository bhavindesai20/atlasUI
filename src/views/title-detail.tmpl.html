<div class="container" id="titleDetail">

    <div class="content movie-content">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h1 class="movie-title">{{titleDetailCntl.setTitle.title}}</h1>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-3">
                        <img ng-src="{{titleDetailCntl.setTitle.poster}}" class="img-rounded title-poster">
                    </div>
                    <div class="col-md-9">
                        <p class="movie_option"><strong>Actors: </strong>{{titleDetailCntl.setTitle.actors}}</p>
                        <p class="movie_option"><strong>Writer: </strong>{{titleDetailCntl.setTitle.writer}}</p>
                        <p class="movie_option"><strong>Director: </strong>{{titleDetailCntl.setTitle.director}}</p>
                        <p class="movie_option"><strong>Release date: </strong>{{titleDetailCntl.setTitle.released | date:'MM/dd/yyyy'}}</p>
                        <p class="movie_option"><strong>Genre: </strong>{{titleDetailCntl.setTitle.genre}}</p>
                        <p class="movie_option"><strong>Rated: </strong>{{titleDetailCntl.setTitle.rated}}</p>
                        <p class="movie_option"><strong>Awards: </strong>{{titleDetailCntl.setTitle.awards}}</p>
                        <p class="movie_option"><strong>ImDB Rating: </strong>{{titleDetailCntl.setTitle.imdbRating}},
                            <strong> imdbVotes:</strong>{{titleDetailCntl.setTitle.imdbVotes | number}}
                        </p>
                        <p class="movie_option siteRating"><strong>MovieFliX Rating: </strong>
                            <uib-rating ng-model="titleDetailCntl.rate" max="5" read-only="true"></uib-rating>
                        </p>
                    </div>
                    <hr>
                </div>
            </div>
        </div>
    </div>

    <hr/>

    <div class="row addCommentRating">
        <uib-accordion>
            <uib-accordion-group is-open="false">
                <uib-accordion-heading>
                   Add your Comment and Rating
                </uib-accordion-heading>

                <div class="col-md-6" id="addComment">
                    <form ng-submit="titleDetailCntl.addComment()">
                            <div class="form-group">
                                <label for="comments">Add Comment</label>
                                <textarea class="form-control" id="comments" ng-model="titleDetailCntl.newComment.comments" required rows="3"></textarea>
                            </div>
                        <button type="submit" ng-disabled="!titleDetailCntl.validUser" class="btn btn-default">Add Comment</button>
                    </form>
                </div>

                <div class="col-md-6" id="addRating" ng-if="!titleDetailCntl.alreadyRated">
                    <h4>How do you like this? Please Rate here.</h4>
                    <uib-rating ng-model="titleDetailCntl.yourRate" max="5" read-only ="titleDetailCntl.alreadyRated"
                                titles="['one','two','three','four','five']"
                                on-hover="titleDetailCntl.giveYourRating(value)" on-leave="titleDetailCntl.overStarRate = null">
                    </uib-rating>
                </div>

                <div class="col-md-6" id="addRating" ng-if="titleDetailCntl.alreadyRated">
                    <h4>Your rating for this Title is {{titleDetailCntl.yourRate}} star.</h4>
                    <uib-rating ng-model="titleDetailCntl.yourRate" max="5" read-only="true">
                    </uib-rating>
                </div>

            </uib-accordion-group>
        </uib-accordion>

    </div>

    <hr/>

    <div class="panel panel-default commentPannel" ng-repeat="comment in titleDetailCntl.setComments | orderBy:'-id'">
        <div class="panel-heading">
            <h3 class="panel-title commentHeading"> <i class="glyphicon glyphicon-user"></i> {{comment.user.lastName}}, {{comment.user.firstName}}</h3>
        </div>
        <div class="panel-body commentBody">
            {{comment.comments}}
        </div>
    </div>

</div>